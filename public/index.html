<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Pitwall</title>
  <link rel="stylesheet" href="/style.css" />
</head>
<body>
  <header class="nb-header">
    <h1 class="nb-title">Pitwall AI</h1>
    <button id="theme" class="nb-btn nb-btn--ghost" title="Toggle theme">Theme</button>
  </header>

  <main class="nb-container">
    <section class="nb-card nb-card--accent">
      <div class="nb-grid">
        <label class="nb-label" for="session">Session ID</label>
        <div class="nb-inline">
          <input id="session" class="nb-input" placeholder="auto-generatedâ€¦" />
          <button id="new" class="nb-btn">New Session</button>
        </div>
      </div>
      <p class="nb-note">Chat memory is stored per Session ID in a Durable Object.</p>
    </section>

    <section class="nb-card nb-chat">
      <div id="chat" class="nb-chat__scroll"></div>
    </section>

    <section class="nb-card nb-composer">
      <textarea id="msg" rows="3" class="nb-input nb-input--multiline" placeholder="Type a messageâ€¦"></textarea>
      <div class="nb-actions">
        <button id="mic" class="nb-btn nb-btn--ghost" title="Voice input">ðŸŽ¤ Speak</button>
        <button id="send" class="nb-btn nb-btn--primary">Send â†’</button>
      </div>
    </section>

    <section class="nb-card">
      <h2>Telemetry Analysis</h2>
      <p class="nb-note">Drop a CSV or choose a file. We'll compute stats and ask AI for anomalies and actions.</p>
      <div class="nb-inline">
        <input id="file" type="file" accept=".csv" class="nb-input" />
        <button id="analyze" class="nb-btn nb-btn--primary">Analyze CSV</button>
      </div>
      <div id="telemetryOut" class="nb-telemetry"></div>
    </section>

    <section class="nb-card">
      <h2>Strategy Simulation</h2>
      <div class="nb-grid nb-grid-2">
        <label>Laps <input id="laps" class="nb-input" type="number" value="20"></label>
        <label>Base Lap (s) <input id="base" class="nb-input" type="number" value="90"></label>
        <label>Fuel/Lap (L) <input id="fuel" class="nb-input" type="number" step="0.01" value="0.12"></label>
        <label>Tank (L) <input id="tank" class="nb-input" type="number" value="8"></label>
        <label>Pit Loss (s) <input id="pit" class="nb-input" type="number" value="22"></label>
        <label>Tire Deg (s/lap) <input id="deg" class="nb-input" type="number" step="0.01" value="0.08"></label>
        <label>Stint Plan (comma) <input id="stints" class="nb-input" value="10,10"></label>
        <label>Safety Car Lap (opt) <input id="sc" class="nb-input" type="number" placeholder="e.g., 12"></label>
      </div>
      <div class="nb-actions">
        <button id="simulate" class="nb-btn nb-btn--primary">Run Simulation</button>
      </div>
      <pre id="strategyOut" class="nb-pre"></pre>
    </section>
  </main>

  <footer class="nb-footer">
    <span>Workers AI + Durable Objects</span>
    <a class="nb-link" href="https://developers.cloudflare.com/workers-ai/" target="_blank" rel="noreferrer">Docs</a>
  </footer>

  <script src="/scripts.js">

  </script>
</body>
</html>
